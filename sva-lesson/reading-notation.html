<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 5: Listening & Analysis - Subject-Verb Agreement</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="page-header">
        <h1>👂 Lesson 5: Listening & Analysis</h1>
        <p>Train your ear to recognize correct speech patterns!</p>
    </div>

    <div class="content-section">
        <h2>🎯 Goal: Develop Your Listening Skills</h2>
        <p>Great speakers are also great listeners! In this lesson, you'll analyze dialogues and conversations to identify subject-verb agreement patterns. This skill will help you recognize correct patterns in natural speech and improve your own speaking confidence. You'll learn to spot both correct usage and common speaking errors.</p>
    </div>

    <!-- Speech Pattern Recognition -->
    <div class="content-section">
        <h2>🎧 Exercise 1: Speech Pattern Recognition</h2>
        <div class="story-passage" style="background: #d4edda; border-left: 4px solid #28a745; color: #333;">
            <h3 style="color: #155724;">🎵 Listen for the Rhythm</h3>
            <p style="color: #333;">Good speakers have natural rhythm in their subject-verb patterns. Read these dialogues out loud and notice the flow:</p>
            
            <div style="background: #fff; padding: 15px; border-radius: 8px; margin: 10px 0; border: 1px solid #dee2e6;">
                <h4 style="color: #155724;">📞 Phone Conversation Analysis</h4>
                <p style="color: #333;"><strong>Person A:</strong> "How <span class="rhythm-word" data-pattern="correct">is</span> your family doing?"</p>
                <p style="color: #333;"><strong>Person B:</strong> "Everyone <span class="rhythm-word" data-pattern="correct">is</span> doing well. My children <span class="rhythm-word" data-pattern="correct">are</span> at school, and my wife <span class="rhythm-word" data-pattern="correct">works</span> downtown. Each day <span class="rhythm-word" data-pattern="correct">brings</span> something new!"</p>
                
                <button onclick="analyzeRhythm()" class="btn" style="margin-top: 10px;">🎵 Analyze Speech Rhythm</button>
                <div id="rhythm-analysis" style="margin-top: 15px;"></div>
            </div>
        </div>
    </div>

    <!-- Dialogue Listening Exercise -->
    <div class="content-section">
        <h2>🗣️ Exercise 2: Dialogue Analysis</h2>
        <div class="exercise">
            <p><strong>Listen carefully to this workplace conversation. Identify the subjects and verbs, then analyze their agreement:</strong></p>
            
            <div class="story-passage" style="background: #fff3cd; border-left: 4px solid #ffc107; color: #333;">
                <h4 style="color: #856404;">🏢 Office Team Meeting</h4>
                <p style="color: #6c757d;"><em>Read this conversation out loud, paying attention to the highlighted patterns:</em></p>
                
                <div style="background: #fff; padding: 15px; border-radius: 8px; margin: 10px 0; border: 1px solid #dee2e6;">
                    <p style="color: #333;"><strong>Manager:</strong> "The project <span class="analysis-word" data-subject="project" data-verb="needs" onclick="analyzeWord(this, 'project', 'needs', 'singular')">needs</span> immediate attention."</p>
                    
                    <p style="color: #333;"><strong>Team Member 1:</strong> "All the documents <span class="analysis-word" data-subject="documents" data-verb="are" onclick="analyzeWord(this, 'documents', 'are', 'plural')">are</span> ready for review."</p>
                    
                    <p style="color: #333;"><strong>Team Member 2:</strong> "Each department <span class="analysis-word" data-subject="each department" data-verb="has" onclick="analyzeWord(this, 'each department', 'has', 'singular')">has</span> submitted their reports."</p>
                    
                    <p style="color: #333;"><strong>Manager:</strong> "Everyone <span class="analysis-word" data-subject="everyone" data-verb="knows" onclick="analyzeWord(this, 'everyone', 'knows', 'singular')">knows</span> their responsibilities, right?"</p>
                    
                    <p style="color: #333;"><strong>Team:</strong> "Yes, we <span class="analysis-word" data-subject="we" data-verb="understand" onclick="analyzeWord(this, 'we', 'understand', 'plural')">understand</span> perfectly!"</p>
                </div>
                
                <div id="dialogue-analysis" style="margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                    <p><strong>📊 Analysis Progress:</strong> <span id="analysis-count">0</span>/5 patterns identified</p>
                    <div id="analysis-details"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Common Speaking Errors -->
    <div class="content-section">
        <h2>❌ Exercise 3: Common Speaking Error Detection</h2>
        <div class="exercise">
            <p><strong>Real Challenge:</strong> Listen to these common speaking mistakes. Can you identify what's wrong and suggest corrections?</p>
            
            <div class="story-passage" style="background: #f8d7da; border-left: 4px solid #dc3545; color: #333;">
                <h4 style="color: #721c24;">🎯 Error Detection Challenge</h4>
                <p style="color: #6c757d;"><em>Read these sentences aloud. Which ones sound wrong to your ear?</em></p>
                
                <div style="background: #fff; padding: 15px; border-radius: 8px; margin: 10px 0; border: 1px solid #dee2e6;">
                    <div class="speaking-error" data-error-type="collective">
                        <p style="color: #333;"><strong>Example 1:</strong> "The team <span class="error-word" onclick="identifyError(this, 'are', 'is', 'collective noun')">are</span> playing very well today."</p>
                        <div class="error-feedback"></div>
                    </div>
                    
                    <div class="speaking-error" data-error-type="everyone">
                        <p style="color: #333;"><strong>Example 2:</strong> "Everyone in the office <span class="error-word" onclick="identifyError(this, 'have', 'has', 'indefinite pronoun')">have</span> their own desk."</p>
                        <div class="error-feedback"></div>
                    </div>
                    
                    <div class="speaking-error" data-error-type="compound">
                        <p style="color: #333;"><strong>Example 3:</strong> "My wife and I <span class="error-word" onclick="identifyError(this, 'goes', 'go', 'compound subject')">goes</span> to the market every Saturday."</p>
                        <div class="error-feedback"></div>
                    </div>
                    
                    <div class="speaking-error" data-error-type="each">
                        <p style="color: #333;"><strong>Example 4:</strong> "Each of the students <span class="error-word" onclick="identifyError(this, 'have', 'has', 'each + of phrase')">have</span> finished their homework."</p>
                        <div class="error-feedback"></div>
                    </div>
                </div>
                
                <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 15px;">
                    <h5>🎯 Error Detection Progress:</h5>
                    <p><strong>Errors Found:</strong> <span id="errors-found">0</span>/4</p>
                    <p><strong>Speaking Tip:</strong> When you hear these errors in real conversation, your ear tells you something sounds "off" - that's your grammar instinct working!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Natural Speech Patterns -->
    <div class="content-section">
        <h2>🎼 Exercise 4: Natural Speech Patterns</h2>
        <div class="exercise">
            <p><strong>Practice recognizing the natural flow of correct subject-verb agreement in conversation:</strong></p>
            
            <div style="background: #e2e3ff; padding: 20px; border-radius: 12px; margin: 20px 0; border-left: 5px solid #6f42c1;">
                <h4 style="color: #432874;">🗨️ Conversation Flow Practice</h4>
                <p style="color: #333;"><em>Read this natural conversation and notice how the correct patterns flow smoothly:</em></p>
                
                <div style="background: #fff; padding: 15px; border-radius: 8px; margin: 10px 0; border: 1px solid #dee2e6;">
                    <p style="color: #333;"><strong>Sarah:</strong> "The weather <strong style="color: #6f42c1;">looks</strong> beautiful today!"</p>
                    <p style="color: #333;"><strong>John:</strong> "Yes! My family <strong style="color: #6f42c1;">is</strong> planning a picnic."</p>
                    <p style="color: #333;"><strong>Sarah:</strong> "That <strong style="color: #6f42c1;">sounds</strong> wonderful. Where <strong style="color: #6f42c1;">do</strong> you usually <strong style="color: #6f42c1;">go</strong>?"</p>
                    <p style="color: #333;"><strong>John:</strong> "We <strong style="color: #6f42c1;">like</strong> the park near the lake. The children <strong style="color: #6f42c1;">love</strong> playing there, and everyone <strong style="color: #6f42c1;">enjoys</strong> the fresh air."</p>
                    <p style="color: #333;"><strong>Sarah:</strong> "Each of our weekends <strong style="color: #6f42c1;">has</strong> been so busy lately. Your idea <strong style="color: #6f42c1;">sounds</strong> perfect!"</p>
                </div>
                
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 15px;">
                    <h5>🎵 Notice the Flow:</h5>
                    <ul style="line-height: 1.7;">
                        <li><strong>"The weather looks"</strong> - Singular subject, natural rhythm</li>
                        <li><strong>"My family is"</strong> - Collective noun, smooth flow</li>
                        <li><strong>"The children love"</strong> - Plural subject, no -s on verb</li>
                        <li><strong>"Everyone enjoys"</strong> - Indefinite pronoun, natural emphasis on -s</li>
                        <li><strong>"Each... has"</strong> - "Each" patterns, consistent singular feel</li>
                    </ul>
                </div>
                
                <button onclick="practiceFlow()" class="btn">🎭 Practice This Conversation</button>
                <div id="flow-practice" style="margin-top: 15px;"></div>
            </div>
        </div>
    </div>

    <!-- Listening Skills Summary -->
    <div class="content-section">
        <h2>🎧 Exercise 5: Self-Assessment Listening</h2>
        <div class="exercise">
            <p><strong>Test your listening skills with these self-check questions:</strong></p>
            
            <div style="background: #d1ecf1; padding: 20px; border-radius: 12px; margin: 20px 0; border-left: 5px solid #17a2b8;">
                <h4 style="color: #0c5460;">🧠 Listening Self-Check</h4>
                
                <div class="question">
                    <p style="color: #333;"><strong>1. When you hear "The team are playing," does it sound:</strong></p>
                    <div style="margin: 10px 0;">
                        <label><input type="radio" name="check1" value="correct"> Natural and correct</label><br>
                        <label><input type="radio" name="check1" value="wrong"> Wrong - should be "is playing"</label>
                    </div>
                </div>
                
                <div class="question">
                    <p style="color: #333;"><strong>2. Which sentence sounds more natural when spoken?</strong></p>
                    <div style="margin: 10px 0;">
                        <label><input type="radio" name="check2" value="a"> "Everyone have finished their work"</label><br>
                        <label><input type="radio" name="check2" value="b"> "Everyone has finished their work"</label>
                    </div>
                </div>
                
                <div class="question">
                    <p style="color: #333;"><strong>3. In conversation, which flows better?</strong></p>
                    <div style="margin: 10px 0;">
                        <label><input type="radio" name="check3" value="a"> "My friends and I goes to the movie"</label><br>
                        <label><input type="radio" name="check3" value="b"> "My friends and I go to the movie"</label>
                    </div>
                </div>
                
                <button onclick="checkListening()" class="btn" style="margin-top: 15px;">🎯 Check My Listening Skills</button>
                <div id="listening-results" style="margin-top: 15px;"></div>
            </div>
        </div>
    </div>

    <div class="summary">
        <h3>🎓 Listening & Analysis Skills Developed</h3>
        <ul>
            <li><strong>Pattern Recognition:</strong> You can now hear correct subject-verb agreement in natural speech</li>
            <li><strong>Error Detection:</strong> Your ear can identify common speaking mistakes</li>
            <li><strong>Flow Awareness:</strong> You understand how correct grammar creates natural speech rhythm</li>
            <li><strong>Self-Monitoring:</strong> You can listen to your own speech and make corrections</li>
            <li><strong>Conversation Analysis:</strong> You can analyze real dialogues for grammar patterns</li>
        </ul>
        <p><strong>Next Step:</strong> Apply these listening skills in real conversations!</p>
    </div>

    <div class="navigation">
        <a href="guided-practice.html" class="nav-btn secondary">← Speaking Practice</a>
        <a href="creative-writing.html" class="nav-btn">Next: Real Conversations →</a>
    </div>

    <script src="script.js"></script>
    <script>
        let analysisProgress = 0;
        let errorsDetected = 0;
        
        function analyzeRhythm() {
            const resultDiv = document.getElementById('rhythm-analysis');
            resultDiv.innerHTML = `
                <div style="background: #d4edda; padding: 15px; border-radius: 8px; color: #155724;">
                    <h5>🎵 Rhythm Analysis Complete!</h5>
                    <p><strong>Natural Patterns Detected:</strong></p>
                    <ul>
                        <li>"How <strong>is</strong> your family" - Question flow with singular subject</li>
                        <li>"Everyone <strong>is</strong> doing" - Indefinite pronoun rhythm</li>
                        <li>"My children <strong>are</strong>" - Plural subject, smooth transition</li>
                        <li>"My wife <strong>works</strong>" - Singular subject, clear verb ending</li>
                        <li>"Each day <strong>brings</strong>" - Natural singular emphasis</li>
                    </ul>
                    <p><em>🎯 Notice how correct grammar creates a natural, pleasing rhythm in speech!</em></p>
                </div>
            `;
        }
        
        function analyzeWord(element, subject, verb, type) {
            analysisProgress++;
            
            element.style.backgroundColor = '#d4edda';
            element.style.color = '#155724';
            element.style.fontWeight = 'bold';
            
            const detailsDiv = document.getElementById('analysis-details');
            const countSpan = document.getElementById('analysis-count');
            
            countSpan.textContent = analysisProgress;
            
            const analysisItem = document.createElement('div');
            analysisItem.style.cssText = 'background: #e7f3ff; padding: 8px 12px; margin: 5px 0; border-radius: 6px; border-left: 3px solid #007bff;';
            analysisItem.innerHTML = `
                <strong>"${subject}"</strong> (${type}) + <strong>"${verb}"</strong> → ✓ Correct pattern!
            `;
            detailsDiv.appendChild(analysisItem);
            
            if (analysisProgress === 5) {
                setTimeout(() => {
                    detailsDiv.innerHTML += `
                        <div style="background: #d4edda; padding: 15px; border-radius: 8px; margin-top: 15px; text-align: center; color: #155724;">
                            <h5>🎉 Complete Analysis!</h5>
                            <p>You've identified all the subject-verb patterns in this workplace conversation. Notice how natural speech follows these grammar rules automatically!</p>
                        </div>
                    `;
                }, 500);
            }
        }
        
        function identifyError(element, wrongWord, correctWord, errorType) {
            errorsDetected++;
            
            element.style.backgroundColor = '#f8d7da';
            element.style.color = '#721c24';
            element.style.textDecoration = 'line-through';
            
            const feedback = element.parentNode.nextElementSibling;
            feedback.innerHTML = `
                <div style="background: #d4edda; padding: 10px; border-radius: 8px; margin: 10px 0; color: #155724;">
                    <strong>✓ Correct!</strong> The error is "<strong>${wrongWord}</strong>" → should be "<strong>${correctWord}</strong>"<br>
                    <em>Reason: ${getErrorExplanation(errorType)}</em>
                </div>
            `;
            
            document.getElementById('errors-found').textContent = errorsDetected;
            
            if (errorsDetected === 4) {
                setTimeout(() => {
                    const progressDiv = document.querySelector('#errors-found').parentNode.parentNode;
                    progressDiv.innerHTML += `
                        <div style="background: #d4edda; padding: 15px; border-radius: 8px; margin-top: 15px; text-align: center; color: #155724;">
                            <h5>🎉 Perfect Error Detection!</h5>
                            <p>Your ear is now trained to catch these common speaking mistakes. Keep practicing, and these corrections will become automatic!</p>
                        </div>
                    `;
                }, 500);
            }
        }
        
        function getErrorExplanation(errorType) {
            const explanations = {
                'collective noun': 'Team is a collective noun - it acts as one unit, so use singular verbs',
                'indefinite pronoun': 'Everyone is always singular, even though it refers to many people',
                'compound subject': 'Two subjects joined by "and" create a plural subject',
                'each + of phrase': '"Each" is always singular, regardless of what follows "of"'
            };
            return explanations[errorType];
        }
        
        function practiceFlow() {
            const practiceDiv = document.getElementById('flow-practice');
            practiceDiv.innerHTML = `
                <div style="background: #e2e3ff; padding: 15px; border-radius: 8px; color: #432874;">
                    <h5>🎭 Flow Practice Instructions:</h5>
                    <ol style="line-height: 1.7;">
                        <li><strong>Read slowly:</strong> Practice the conversation above at half speed, emphasizing each verb ending</li>
                        <li><strong>Normal speed:</strong> Now read it at natural conversation pace</li>
                        <li><strong>Record yourself:</strong> Use your phone to record yourself speaking these lines</li>
                        <li><strong>Listen back:</strong> Notice how the correct patterns sound natural and flowing</li>
                        <li><strong>Practice variations:</strong> Try changing the subjects while keeping the same rhythm</li>
                    </ol>
                    <p><em>🎯 The goal is to make correct subject-verb agreement feel automatic in your speech!</em></p>
                </div>
            `;
        }
        
        function checkListening() {
            const check1 = document.querySelector('input[name="check1"]:checked');
            const check2 = document.querySelector('input[name="check2"]:checked');
            const check3 = document.querySelector('input[name="check3"]:checked');
            
            const resultsDiv = document.getElementById('listening-results');
            
            if (!check1 || !check2 || !check3) {
                resultsDiv.innerHTML = '<p style="color: #dc3545;">Please answer all questions first!</p>';
                return;
            }
            
            let score = 0;
            let feedback = '<h5>🎧 Your Listening Results:</h5>';
            
            if (check1.value === 'wrong') {
                score++;
                feedback += '<p style="color: #28a745;">✓ Question 1: Correct! "Team are" sounds wrong.</p>';
            } else {
                feedback += '<p style="color: #dc3545;">✗ Question 1: "Team are" should sound wrong to your ear.</p>';
            }
            
            if (check2.value === 'b') {
                score++;
                feedback += '<p style="color: #28a745;">✓ Question 2: Correct! "Everyone has" flows naturally.</p>';
            } else {
                feedback += '<p style="color: #dc3545;">✗ Question 2: "Everyone has" sounds more natural.</p>';
            }
            
            if (check3.value === 'b') {
                score++;
                feedback += '<p style="color: #28a745;">✓ Question 3: Correct! "My friends and I go" flows better.</p>';
            } else {
                feedback += '<p style="color: #dc3545;">✗ Question 3: "My friends and I go" has better flow.</p>';
            }
            
            const percentage = Math.round((score / 3) * 100);
            feedback += `<div style="background: ${score === 3 ? '#d4edda' : '#fff3cd'}; padding: 15px; border-radius: 8px; margin-top: 15px; text-align: center;">`;
            feedback += `<h5>Final Score: ${score}/3 (${percentage}%)</h5>`;
            
            if (score === 3) {
                feedback += '<p style="color: #155724;">🎉 Excellent! Your ear is well-trained for correct speech patterns!</p>';
            } else if (score === 2) {
                feedback += '<p style="color: #856404;">👍 Good progress! Keep practicing to sharpen your listening skills.</p>';
            } else {
                feedback += '<p style="color: #856404;">📚 Keep practicing! Your ear will develop with more exposure to correct patterns.</p>';
            }
            feedback += '</div>';
            
            resultsDiv.innerHTML = feedback;
        }
    </script>

    <footer>
        <p>👂 Remember: Listening skills improve with practice!</p>
        <p style="margin-top: 10px; font-size: 0.9em; color: #666;">✨ Created with care by Seema for effective English learning</p>
    </footer>
</body>
</html>
